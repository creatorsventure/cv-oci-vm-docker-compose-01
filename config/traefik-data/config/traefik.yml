# traefik.yml
api:
  dashboard: true
  insecure: false

ping:
  entryPoint: web

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    watch: true
    exposedByDefault: false
  file:
    filename: "/etc/traefik/dynamic.yml"
    watch: true

certificatesResolvers:
  le:
    acme:
      storage: "/acme.json"
      httpChallenge:
        entryPoint: web
  vault:
    acme:
      # point to your Vault ACME directory endpoint
      caServer: "https://vault.oci.creatorsventure.com/v1/cv-intermediate-ca/acme/directory"
      storage: "/acme_vault.json"     # separate file OK (optional)
      # choose challenge type carefully:
      # - httpChallenge: requires the CA (Vault) to reach your domain over HTTP
      # - dnsChallenge: requires DNS provider config for TXT records
      httpChallenge:
        entryPoint: web
      # OR for DNS (example):
      # dnsChallenge:
      #   provider: "cloudflare"
      #   delayBeforeCheck: 10
